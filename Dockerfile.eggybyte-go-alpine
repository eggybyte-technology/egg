FROM alpine:3.22

# Install Go and necessary tools
RUN apk add --no-cache \
    go \
    git \
    ca-certificates \
    curl \
    wget \
    bash \
    make \
    gcc \
    musl-dev

# Set Go environment variables
ENV GO111MODULE=on \
    CGO_ENABLED=0 \
    GOOS=linux \
    GOARCH=amd64

# Create a non-root user
RUN adduser -D -s /bin/bash eggybyte
USER eggybyte
WORKDIR /home/eggybyte

# Set default command
CMD ["/bin/bash"]
